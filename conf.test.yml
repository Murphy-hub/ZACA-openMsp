registry:
  self-name: capitalizone.test

log:
  log-proxy:
    host: 192.168.2.80
    port: 6381
    key: ca_log

redis:
  nodes:
    - 192.168.2.80:9001
    - 192.168.2.80:9002
    - 192.168.2.80:9003

# 级联 CA 配置项
keymanager:
  upper-ca: [] # https://@server.ca
  self-sign: false # 开启表示 ROOT CA
  csr-templates:
    root-ca:
      o: CI123 ROOT AUTHORITY
      expiry: 175200h
    intermediate-ca:
      o: SITE CA IDENTIFY
      ou: "spiffe://site/cluster"
      expiry: 175200h

singleca:
  config-path: "config.json"

election:
  enabled: false
  id: capitalizone-leader
  baseon: configmap
  always-leader: false

gateway-nervs:
  enabled: false
  endpoint: ""

ocsp-host: "http://127.0.0.1:8082"

http:
  ocsp-listen: 0.0.0.0:8082
  ca-listen: 0.0.0.0:8081
  listen: 0.0.0.0:8080

mysql:
  dsn: root:123456@tcp(192.168.2.80:3306)/cap?charset=utf8mb4&parseTime=True&loc=Local

influxdb:
  enabled: true
  address: "192.168.2.80" #192.168.2.80:8086
  port: 8086
  udp_address: "" #influxdb msp数据库的udp地址，ip:port
  database: "msp" # 数据库名称
  precision: "ms" #精度 n, u, ms, s, m or h
  username: "influx-msp"
  password: "sunyangpassword"
  read-username: "MSP_CUSTOM_INFLUXDB_USERNAME"
  read-password: "MSP_CUSTOM_INFLUXDB_PASSWORD"
  max-idle-conns: 30
  max-idle-conns-per-host: 30
  flush-size: 20 #批量发送的点的个数
  flush-time: 10 #定时批量发送点的时间，单位：s

vault:
  enabled: false
  addr: ""
  token: ""
  prefix: ""
  discover: "provider=k8s namespace=msp label_selector=\"app.kubernetes.io/name=vault\""

mesh:
  msp-portal-api: "http://192.168.2.80:8100"

swagger-enabled: true

debug: true

# 监控指标
metrics:
  cpu-limit: 90 # cpu阈值
  mem-limit: 80 # 内存阈值

# ocsp配置
ocsp:
  cache-time: 60 # 缓存时间